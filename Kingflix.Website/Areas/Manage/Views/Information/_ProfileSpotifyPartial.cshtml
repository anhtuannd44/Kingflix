@model IEnumerable<Kingflix.Domain.DomainModel.Profile>

<div class="service-netflix">
    <h5><strong class="text-success">Spotify</strong> - @(ViewBag.IsPending != "True"?"Các tài khoản đang hoạt động": "Bạn có một đơn hàng đang được xử lý, vui lòng đợi")</h5>
    <div class="mt-4 row">
        @if (Model.Count() != 0)
        {
            foreach (var item in Model)
            {
                <div class="col-md-6">
                    <div class="service-card shadow text-white font-weight-bold">
                        <div class="row">
                            <div class="col-md-4 col-6">
                                Tài khoản
                            </div>
                            <div class="col-md-8 col-6">
                                @item.ProductId
                            </div>
                        </div>
                        <hr class="my-2" />
                        <div class="row">
                            <div class="col-md-4 col-6">
                                Mật khẩu
                            </div>
                            <div class="col-md-8 col-6">
                                @item.Products.Password
                            </div>
                        </div>
                        <hr class="my-2" />
                        <div class="row">
                            <div class="col-md-4 col-6">
                                Ngày bắt đầu
                            </div>
                            <div class="col-md-8 col-6">
                                @item.DateStart.ToString("dd/MM/yyyy")
                            </div>
                        </div>
                        <hr class="my-2" />
                        <div class="row">
                            <div class="col-md-4 col-6">
                                Ngày hết hạn
                            </div>
                            <div class="col-md-8 col-6">
                                @if ((item.DateEnd.Date - DateTime.Today).Days < 0)
                                {
                                    @item.DateEnd.ToString("dd/MM/yyyy") <span class="text-primary font-weight-bold">(hết hạn @((DateTime.Today - item.DateEnd.Date).Days) ngày)</span>
                                }
                                else
                                {
                                    @item.DateEnd.ToString("dd/MM/yyyy") <span class="text-warning font-weight-bold">(còn @((item.DateEnd - DateTime.Now).Days) ngày)</span>
                                }
                                @*<button class="badge badge-primary extend" data-toggle="modal" data-target="#ModalTemplateLg" data-id="@item.ProfileId" type="button">
                                    <i class="mdi mdi-history"></i> Gia hạn
                                </button>*@
                            </div>
                        </div>
                        <hr class="my-2" />
                        <div class="row">
                            <div class="col-md-4 col-6">
                                Tình trạng
                            </div>
                            <div class="col-md-8 col-6">
                                @if (item.DateEnd.Date < DateTime.Today)
                                {
                                    <p class="badge badge-danger m-0">Hết hạn</p>
                                }
                                else
                                {
                                    <p class="badge badge-success m-0">Đang hoạt động</p>
                                }
                            </div>
                        </div>
                    </div>
                    </div>
                    }
                    @*<div class="row">
                        <div class="col-md-4">
                            Gia hạn
                        </div>
                        @foreach (var item in Model)
                        {
                            <div class="col-md-4">
                                <button class="badge badge-info extend" data-toggle="modal" data-target="#ModalTemplateLg" data-id="@item.ProfileId" type="button">
                                    <i class="mdi mdi-history"></i> Gia hạn
                                </button>
                            </div>
                        }
                    </div>*@
                    @*<div class="promotions mt-4">
                        <p><i class="mdi mdi-tag align-middle mr-2 text-primary"></i>KHUYẾN MÃI: Nhận Free Spotify 3 tháng và Netflix đặc biệt 1 tháng khi giới thiệu bạn bè <a href="@Url.Action("ReferralSetting")" class="btn btn-success btn-sm btn-rounded ml-2">Tham gia ngay</a></p>
                    </div>*@
                    }
                </div>
            </div>